<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style/edit_profile.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <title>Kilómetros Sin Fin</title>
    <link rel="stylesheet" href="style/language-styles.css">
    <script src="script/language-manager.js"></script>
</head>
<body>
<section id="Inicio">
    <nav id="Navegacion">
        <div class="website-name" data-translate-key="footer.copyright">Kilómetros Sin Fin</div>
        <a href="#">
            <img class="aloj" src="images/vuel.png" alt="vuelo button">
            <span data-translate-key="nav.flights">Vuelos</span>
        </a>
        <a href="#">
            <img class="aloj" src="images/viaj.png" alt="viaje button">
            <span data-translate-key="nav.trips">Viajes</span>
        </a>
        <a href="#">
            <img class="aloj" src="images/aloj.png" alt="alojamiento button">
            <span data-translate-key="nav.accommodation">Alojamiento</span>
        </a>
        <label for="lang" ></label>
        <select class="menu-lang" name="lang" id="lang">
            <option value="ES">ES</option>
            <option value="ENG">ENG</option>
            <option value="FR">FR</option>
            <option value="UA">UA</option>
        </select>
    </nav>
    <div class="forma" id="forma-container-profile">
        <div class="forma-header" data-translate-key="editProfile.editProfile">Mi perfil</div>
        <form id="registerForm">
            <div class="forma-left">
                <label class="forma-text" for="nameE" data-translate-key="editProfile.name">Nombre:</label>
                <input type="text" id="nameE" name="name" placeholder="Nombre" disabled>
                <label class="forma-text" for="surnameE" data-translate-key="editProfile.surname">Apellidos:</label>
                <input type="text" id="surnameE" name="surname" placeholder="Apellidos" disabled>
                <label class="forma-text" for="loginE" data-translate-key="editProfile.login">Username:</label>
                <input type="text" id="loginE" name="login" placeholder="login" disabled>
                <label class="forma-text" for="emailE" data-translate-key="editProfile.email">Correo electronico:</label>
                <input type="text" id="emailE" name="email" placeholder="Correo electronico" disabled>
                <label class="forma-text" for="birthdayE" data-translate-key="editProfile.birthday">Fecha de nacimiento</label>
                <input type="date" id="birthdayE" disabled>
            </div>
            <div class="forma-right">
                <img id="profileAvatar" src="images/login-icon.png" alt="Avatar del usuario" />
                <button type="button" class="submit-button-forma" id="buttonFav" onclick="misFavoritos()" data-translate-key="editProfile.favorites">Mis Favoritos</button>
                <button type="button" class="submit-button-forma" id="buttonHistorial" onclick="miHistorial()" data-translate-key="editProfile.history">Mi Historial</button>
            </div>
        </form>
        <div class="button-container-register">
            <button type="button" class="submit-button-forma" id="buttonQ" onclick="onQuitEdit()" data-translate-key="editProfile.cancel">Quitar</button>
            <button type="button" class="submit-button-forma" id="buttonEd" onclick="startEdit()" data-translate-key="editProfile.save">Editar</button>
        </div>
    </div>
</section>
<footer class="site-footer">
    <!-- Tira superior: newsletter -->
    <div class="footer-newsletter">
        <div class="footer-newsletter-title">
            <label data-translate-key="footer.newsletter">
                Suscríbete a la newsletter
            </label>
        </div>

        <div class="mail">
            <input type="email" id="nl-email" name="email" placeholder="Tu email" data-translate-key="footer.email_placeholder" required>
        </div>
        <div class="newsletter-submit-button">
            <button type="submit" class="nl-btn" data-translate-key="footer.subscribe_button">Suscribirme</button>
        </div>
    </div>

    <!-- Barra inferior: © + enlaces + redes -->
    <div class="footer-bar">
        <p class="copy" data-translate-key="footer.copyright">&copy; 2025 Kilómetros Sin Fin</p>

        <ul class="footer-links" aria-label="Enlaces legales">
            <li><a href="#" data-translate-key="footer.about">Sobre nosotros</a></li>
            <li><a href="#" data-translate-key="footer.privacy">Política de privacidad</a></li>
            <li><a href="#" data-translate-key="footer.help">Ayuda</a></li>
        </ul>

        <div class="footer-social" aria-label="Redes sociales">
            <a class="social-link" href="https://www.instagram.com/" target="_blank" rel="noopener" title="Instagram">
                <img src="images/icons8-instagram-128.png" alt="Instagram" data-translate-key="footer.instagram">
            </a>
            <a class="social-link" href="https://www.tiktok.com/" target="_blank" rel="noopener" title="TikTok">
                <img src="images/icons8-tiktok-128.png" alt="TikTok" data-translate-key="footer.tiktok">
            </a>
            <a class="social-link" href="https://www.youtube.com/" target="_blank" rel="noopener" title="YouTube">
                <img src="images/icons8-youtube-128.png" alt="YouTube" data-translate-key="footer.youtube">
            </a>
        </div>
    </div>
</footer>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const langSelector = document.getElementById('lang');
    let translations = {};

    async function loadTranslations() {
        try {
            const response = await fetch('translations.json');
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            translations = await response.json();
            const savedLang = localStorage.getItem('language') || 'es';
            setLanguage(savedLang.toLowerCase());
            langSelector.value = savedLang.toUpperCase();
        } catch (error) {
            console.error('Failed to load translations:', error);
        }
    }

    function setLanguage(lang) {
        const langKey = lang.toLowerCase();
        const lang_translations = translations[langKey] || translations['es'];
        if (lang_translations) {
            document.querySelectorAll('[data-translate-key]').forEach(element => {
                const key = element.getAttribute('data-translate-key');
                const translation = getTranslation(key, lang_translations);
                if (translation) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translation;
                    } else {
                        element.textContent = translation;
                    }
                }
            });
            localStorage.setItem('language', langKey);
            document.documentElement.lang = langKey;
        }
    }

    function getTranslation(key, lang_translations) {
        return key.split('.').reduce((obj, i) => (obj ? obj[i] : null), lang_translations);
    }

    langSelector.addEventListener('change', (event) => {
        setLanguage(event.target.value.toLowerCase());
    });

    loadTranslations();
});
</script>
<script src="script/class.js"></script>
<script src="script/local_storage_ops.js"></script>
<script src="script/script.js"></script>
</body>
</html>